# 观察者模式
## 定义
定义对象之间的一对多依赖，这样一来，当一个对象改变状态时，它的所有依赖者都会收到通知并自动更新。

> ⭐设计原则
> - 尽量做到交互的对象之间的松耦合设计 -> 应对变化、有弹性
> - 识别应用中会变化的方面，并将其和不变的方面分开
>   - subject状态 -> 拉
>   - observer数量 -> list
>   - observer类型 -> 抽象
> - 针对接口编程，而不是针对实现
>   - subject：跟踪实现观察者接口的对象
>   - observer：通过subject接口注册并被通知
> - 优先使用组合而不是继承 -> list
---
> ⏰注意
> - 不要依赖特定的通知次序
> - 接口不能动


## 使用场景
- 数据中心化
  - 一对多：数据更新时通知观察者
  - 添加、移除观察者
  - 观察者对象之间不相关
- 不同数量观察者、不同类型观察者、不同数据状态

## 代码示例
气象监测应用
- 气象数据
  - 温度、湿度、气压
  - 数据更新，通知显示设备进行更新
  - 添加、移除通知的显示设备 
- 显示设备
  - 注册为观察者
  - 添加数据更新的动作，拉取想要的数据
  - 添加显示格式
![](img/observer_pattern.svg)

- [Java实现](code/Java/observer)
- [C++实现](code/C++/observer)
- [Python实现](code/Python/observer)
